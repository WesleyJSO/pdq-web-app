(function(e){function t(t){for(var o,r,l=t[0],n=t[1],d=t[2],u=0,v=[];u<l.length;u++)r=l[u],s[r]&&v.push(s[r][0]),s[r]=0;for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);c&&c(t);while(v.length)v.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],o=!0,l=1;l<a.length;l++){var n=a[l];0!==s[n]&&(o=!1)}o&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var o={},s={app:0},i=[];function r(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=o,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(a,o,function(t){return e[t]}.bind(null,o));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],n=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var c=n;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var o=a("19b3"),s=a.n(o);s.a},"12e8":function(e,t,a){"use strict";var o=a("4065"),s=a.n(o);s.a},"19b3":function(e,t,a){},"3af3":function(e,t,a){},4065:function(e,t,a){},4421:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-card",{attrs:{color:"#eee"}},[a("v-card-title",{staticClass:"title"},[e._v("Fluxo de Aprovação")]),a("v-card-text",[a("v-flex",[a("WorkflowConfiguration")],1),a("v-flex",[a("Workflow")],1)],1)],1)],1)],1)],1)},s=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var o=t.hover;return a("v-card",{staticClass:"mx-auto",class:"elevation-"+(o?12:2)},[a("v-card-title",[e._v("Adicionar Aprovação")]),a("v-card-text",[a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",[a("v-layout",[a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-select",{attrs:{items:e.sourceItems,rules:e.$v_basic.emptyComboField(e.selectedSourceItem),label:"De...",outline:""},model:{value:e.selectedSourceItem,callback:function(t){e.selectedSourceItem=t},expression:"selectedSourceItem"}})],1),a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-select",{attrs:{items:e.targetItems,rules:e.$v_basic.emptyComboField(e.selectedTargetItem),label:"Para...",outline:""},model:{value:e.selectedTargetItem,callback:function(t){e.selectedTargetItem=t},expression:"selectedTargetItem"}})],1),a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-checkbox",{attrs:{label:"Cor",value:"Cor"},on:{change:e.changeDialog},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-checkbox",{attrs:{label:"Prazo",value:"Prazo"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-checkbox",{attrs:{label:"Tabela Preço",value:"Tabela Preço"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-checkbox",{attrs:{label:"Campanha",value:"Campanha"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{disabled:!e.valid,color:"success"},on:{click:e.sendNewLinkData}},[e._v("Adicionar")]),a("v-btn",{attrs:{color:"error"},on:{click:e.reset}},[e._v("Cancelar")]),a("modal",{attrs:{dialog:e.dialog},on:{closeDialog:e.closeDialog}})],1)],1)}}])})},r=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{persistent:"","max-width":"50%"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Porcentagens para o status.")]),a("v-card-text",[e._l(e.orderColors,function(t){return a("v-layout",{key:t.id},[a("v-flex",{attrs:{md1:""}},[a("v-btn",{staticClass:"white--text",attrs:{icon:"",color:t.orderColor}},[e._v("\n              "+e._s(t.colorPercentage)+"%\n            ")])],1),a("v-flex",{attrs:{md11:""}},[a("v-slider",{model:{value:t.colorPercentage,callback:function(a){e.$set(t,"colorPercentage",a)},expression:"color.colorPercentage"}})],1)],1)}),a("p",{staticClass:"ma-0"},[e._v("* As porcentagens escolhidas definem o ponto no qual o pedido deverá acatar para necessitar da aprovação.")]),a("p",{staticClass:"ma-0"},[e._v("Ex: Caso o vermelho esteja em 20% o status será necessário caso o 20% ou mais do valor do pedido corresponsa a esta cor.")])],2),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:e.sendParentConfirmation}},[e._v("Salvar")]),a("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:e.sendParentConfirmation}},[e._v("Cancelar")])],1)],1)],1)],1)},n=[],d={props:{dialog:{type:Boolean,default:!1}},data(){return{orderColors:[{id:1,orderColor:"light-blue darken-4",colorPercentage:0},{id:2,orderColor:"green",colorPercentage:0},{id:3,orderColor:"amber accent-3",colorPercentage:0},{id:4,orderColor:"red",colorPercentage:0},{id:5,orderColor:"black",colorPercentage:0}]}},methods:{sendParentConfirmation(){this.$emit("closeDialog",!0)}}},c=d,u=a("2877"),v=a("6544"),m=a.n(v),p=a("8336"),f=a("b0af"),h=a("99d9"),g=a("12b2"),b=a("169a"),_=a("0e8f"),C=a("a722"),x=a("ba0d"),P=a("9910"),y=Object(u["a"])(c,l,n,!1,null,null,null);y.options.__file="modal.vue";var A=y.exports;m()(y,{VBtn:p["a"],VCard:f["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:g["a"],VDialog:b["a"],VFlex:_["a"],VLayout:C["a"],VSlider:x["a"],VSpacer:P["a"]});var k={components:{modal:A},data:()=>({dialog:!1,selected:[],selectedSourceItem:"",selectedTargetItem:"",valid:!0,sourceItems:["Em Construção","Gerente Distribução","AR","Gerente Regional","Gerente Comercial","Diretor Comercial","Adm Vendas","Implantado","Cancelado","Reprovado","Cor","Prazo","Tabela Preço","Campanha"],targetItems:["Em Construção","Gerente Distribução","AR","Gerente Regional","Gerente Comercial","Diretor Comercial","Adm Vendas","Implantado","Cancelado","Reprovado","Cor","Prazo","Tabela Preço","Campanha"]}),mounted(){this.$root.$on("addNode",(e,t)=>{t?this.sourceItems.push(e):this.targetItems.push(e)})},methods:{changeDialog(){this.dialog=!this.dialog,this.selected.includes("Cor")&&(this.dialog=!0)},closeDialog(e){e&&(this.selected=this.selected.filter(e=>"Cor"!==e)),this.dialog=!this.dialog},sendNewLinkData(){this.$root.$emit("AddLink",this.selectedSourceItem,this.selectedTargetItem,this.selected)},reset(){this.$refs.form.reset()}}},V=k,j=(a("e979"),a("ac7c")),S=a("a523"),T=a("4bd4"),I=a("ce87"),R=a("b56d"),w=Object(u["a"])(V,i,r,!1,null,"2c300c0a",null);w.options.__file="WorkflowConfiguration.vue";var O=w.exports;m()(w,{VBtn:p["a"],VCard:f["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:g["a"],VCheckbox:j["a"],VContainer:S["a"],VFlex:_["a"],VForm:T["a"],VHover:I["a"],VLayout:C["a"],VSelect:R["a"]});var D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var o=t.hover;return a("v-card",{staticClass:"mx-auto",class:"elevation-"+(o?12:2)},[a("v-card-text",[a("div",{staticClass:"chart"},[a("chart-sankey",{attrs:{data:e.chartData,config:e.chartConfig}})],1)])],1)}}])})},E=[],$=a("d21f"),F={props:{tabIndex:{type:Number,default:1}},components:{ChartSankey:$["ChartSankey"]},data:()=>({chartData:{nodes:[{name:"Em Construção"},{name:"Gerente Distribução"},{name:"AR"},{name:"Gerente Regional"},{name:"Gerente Comercial"},{name:"Diretor Comercial"},{name:"Adm Vendas"},{name:"Implantado"},{name:"Cancelado"},{name:"Reprovado"},{name:"Cor"},{name:"Prazo"},{name:"Tabela Preço"},{name:"Campanha"}],links:[{source:"Em Construção",target:"Gerente Distribução",value:1},{source:"Em Construção",target:"Cancelado",value:1},{source:"Em Construção",target:"Reprovado",value:1},{source:"Gerente Distribução",target:"AR",value:1},{source:"Gerente Distribução",target:"Cancelado",value:1},{source:"Gerente Distribução",target:"Reprovado",value:1},{source:"AR",target:"Gerente Regional",value:1},{source:"AR",target:"Cancelado",value:1},{source:"AR",target:"Reprovado",value:1},{source:"Gerente Regional",target:"Gerente Comercial",value:1},{source:"Gerente Regional",target:"Cancelado",value:1},{source:"Gerente Regional",target:"Reprovado",value:1},{source:"Gerente Comercial",target:"Cor",value:1},{source:"Gerente Comercial",target:"Prazo",value:1},{source:"Gerente Comercial",target:"Tabela Preço",value:1},{source:"Gerente Comercial",target:"Campanha",value:1},{source:"Cor",target:"Diretor Comercial",value:1},{source:"Prazo",target:"Diretor Comercial",value:1},{source:"Tabela Preço",target:"Diretor Comercial",value:1},{source:"Campanha",target:"Diretor Comercial",value:1},{source:"Diretor Comercial",target:"Adm Vendas",value:1},{source:"Diretor Comercial",target:"Cancelado",value:1},{source:"Diretor Comercial",target:"Reprovado",value:1},{source:"Adm Vendas",target:"Implantado",value:1},{source:"Adm Vendas",target:"Cancelado",value:1},{source:"Adm Vendas",target:"Reprovado",value:1}]},chartConfig(e){e.sankey().sankey().nodeWidth(8).nodePadding(140),e.sankey().nodeDraggableY(!0).nodeDraggableX(!0),e.sankey()}}),methods:{verifyLink(e,t){let a=!0;return this.chartData.links.map(o=>{(o.source===e&&o.target===t||o.target===e&&o.source===t||e===t)&&(a=!1)}),a},nodeAlreadyExists(e){for(let t of this.chartData.links)if(t.target===e)return!0;return!1},newItemName(e,t){let a="";return t.split("").forEach(e=>{e===e.toUpperCase()&&(a+=e)}),`${e} ${a.replace(/\s/g,"")}`},async addNode(e,t,a){console.log({newSource:e}),console.log({newTarget:t}),console.log({itemName:a}),a?(this.chartData.nodes.push({name:a}),this.chartData.links.push({source:e,target:a,value:1}),this.chartData.links.push({source:a,target:t,value:1})):this.chartData.links.push({source:e,target:t,value:1})}},mounted(){this.$root.$on("AddLink",(e,t,a)=>{let o=this.verifyLink(e,t);if(o)if(a.length>0)for(let s of a)this.addNode(e,t,this.newItemName(s,e));else this.addNode(e,t,null);else e!==t&&a.forEach(a=>{let o=this.newItemName(a,e);this.nodeAlreadyExists(o)||this.addNode(e,t,o)})})}},N=F,L=(a("b972"),Object(u["a"])(N,D,E,!1,null,"012a5ba9",null));L.options.__file="WorkflowPoc.vue";var U=L.exports;m()(L,{VCard:f["a"],VCardText:h["b"],VHover:I["a"]});var B={components:{WorkflowConfiguration:O,Workflow:U},data:()=>({})},z=B,G=Object(u["a"])(z,o,s,!1,null,null,null);G.options.__file="GridContainer.vue";t["default"]=G.exports;m()(G,{VCard:f["a"],VCardText:h["b"],VCardTitle:g["a"],VContainer:S["a"],VFlex:_["a"],VLayout:C["a"]})},4539:function(e,t,a){},4678:function(e,t,a){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb718","./de-ch.js":"bb718","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=i(e);return a(t)}function i(e){var t=o[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}s.keys=function(){return Object.keys(o)},s.resolve=i,e.exports=s,s.id="4678"},4811:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-card",{staticClass:"card",attrs:{flat:""}},[a("v-card-title",{staticClass:"title card"},[e._v("Consulta de pedidos")]),a("v-card-text",{staticClass:"pa-0"},[a("v-flex",[a("PedidoConsulta")],1)],1)],1)],1)],1)],1)},s=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[a("v-dialog",{attrs:{persistent:""},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}}),a("v-snackbar",{attrs:{top:"",right:"",timeout:e.timeout},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e.progress?a("v-progress-circular",{attrs:{indeterminate:"",value:20}}):e._e(),e._v("\n    "+e._s(e.snackbarText)+"\n    "),a("v-btn",{attrs:{color:"pink",flat:""},on:{click:function(t){e.isLoading=!1}}},[e._v("Fechar")])],1),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{staticClass:"pl-3 pr-3 pt-0",attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-10"},[a("v-card-text",[a("v-layout",[a("v-flex",{attrs:{xs12:"",sm12:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Numero do Pedido"},model:{value:e.filterPedido.codSap,callback:function(t){e.$set(e.filterPedido,"codSap",t)},expression:"filterPedido.codSap"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{label:"RTV",items:e.listRtv,"item-text":"login","no-data-text":"Não foi possível carregar a lista de representantes.","return-object":"","single-line":""},on:{change:e.findRegionalByIdUsuario},model:{value:e.filterPedido.usuarioRtv,callback:function(t){e.$set(e.filterPedido,"usuarioRtv",t)},expression:"filterPedido.usuarioRtv"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{label:"Regional",items:e.listRegional,"item-text":"nomRegional","no-data-text":"Não foi possível carregar a lista de regionais.","return-object":"","single-line":""},model:{value:e.filterPedido.regional,callback:function(t){e.$set(e.filterPedido,"regional",t)},expression:"filterPedido.regional"}})],1)],1),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm12:"",md3:"",lg3:"",xl3:""}},[a("v-autocomplete",{attrs:{label:"Estado",items:e.listEstado,hint:e.filterPedido.estado.nomEstado+" - "+e.filterPedido.estado.pais.nomPais,"item-text":"nomEstado","no-data-text":"Não foi possível carregar a lista de estados.","return-object":"","single-line":""},on:{change:e.findCidadeByIdEstado},model:{value:e.filterPedido.estado,callback:function(t){e.$set(e.filterPedido,"estado",t)},expression:"filterPedido.estado"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md3:"",lg3:"",xl3:""}},[a("v-autocomplete",{attrs:{label:"Cidade",items:e.listCidade,hint:e.filterPedido.cidade.nomCidade+" - "+e.filterPedido.cidade.estado.nomEstado,"item-text":"nomCidade","no-data-text":"Não foi possível carregar a lista de cidades.","return-object":"","single-line":""},model:{value:e.filterPedido.cidade,callback:function(t){e.$set(e.filterPedido,"cidade",t)},expression:"filterPedido.cidade"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg6:"",xl6:""}},[a("v-autocomplete",{attrs:{label:"Status",items:e.listStatusPedido,"item-text":"descricaoStatus","no-data-text":"Não foi possível carregar a lista de status do pedido.","return-object":"","single-line":""},model:{value:e.filterPedido.statusPedido,callback:function(t){e.$set(e.filterPedido,"statusPedido",t)},expression:"filterPedido.statusPedido"}})],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{color:"success",loading:e.isLoading},on:{click:e.search}},[e._v("Pesquisar")]),a("v-btn",{attrs:{color:"warning"},on:{click:e.reset}},[e._v("Limpar")])],1)],1)],1)],1),a("v-card",{staticClass:"elevation-10 ml-3 mr-3 mb-3"},[a("v-card-text",[a("v-data-table",{attrs:{headers:e.headers,items:e.listPedido,"rows-per-page-text":"Itens por página"},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"pa-3"},[e._v(e._s(t.item.cliente.nomCliente))]),a("td",[e._v(e._s(t.item.regional.nomRegional))]),a("td",[e._v(e._s(t.item.cliente.numIe))]),a("td",[e._v(e._s(t.item.codSap))]),a("td",[e._v(e._s(t.item.statusPedido.descricaoStatus))]),a("td",[e._v(e._s(e._f("userFormatDate")(t.item.dtCriacaoPedido)))]),a("td",{staticClass:"pa-2 pt-0"},[a("v-list-tile",{key:"aprovarpedido",attrs:{slot:"activator",color:e.selectColor(!e.$v_StatusPedido.validApprovalStatus(t.item.statusPedido.id)),disabled:e.$v_StatusPedido.validApprovalStatus(t.item.statusPedido.id),to:{name:"aprovarpedido",params:{pedido:t.item,tabIndex:0}}},slot:"activator"},[a("v-list-tile-action",[a("v-icon",[e._v("done")])],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Aprovar")])],1)],1)],1)]}}])},[a("template",{slot:"no-data"},[a("p",{staticClass:"text-md-center"},[e._v("Nenhum item para ser exibido.")])])],2)],1)],1)],1)},r=[],l={data:()=>({headers:[{text:"Nome do cliente",value:"nomCliente",align:"left"},{text:"Regional",value:"nomRegional",align:"left"},{text:"Inscrição estadual",value:"numIe",align:"left"},{text:"Número do pedido",value:"codSap",align:"left"},{text:"Status",value:"descricaoStatus",align:"left"},{text:"Data de criação",value:"dtCriacaoPedido",align:"left"},{text:"Ações",value:"acoes",align:"center",sortable:!1}],timeout:2e3,isLoading:!1,valid:!1,progress:!1,snackbar:!1,snackbarText:"Pesquisando...",filterPedido:{estado:{pais:{}},cidade:{estado:{}}},listRtv:[],listRegional:[],listEstado:[],listCidade:[],listStatusPedido:[],listPedido:[]}),async mounted(){this.snackbarActiveInitiate(!1),this.listEstado=await this.$_BaseAPI.getData("estado"),this.listEstado.sort((e,t)=>e.nomEstado>t.nomEstado?1:-1),this.listStatusPedido=await this.$_BaseAPI.getData("statuspedido"),this.listStatusPedido.sort((e,t)=>e.descricaoStatus>t.descricaoStatus?1:-1),this.listCidade=await this.$_BaseAPI.getData("cidade"),this.listCidade.sort((e,t)=>e.nomCidade>t.nomCidade?1:-1),this.listRegional=await this.$_Regional.findByUsuarioLogado(),this.listRtv=await this.$_Usuario.findByStsAtivo(!0),this.snackBarFinish()},methods:{selectColor(e){if(e)return"#1976d2"},enableAproval(e){return!this.enableSendApprovement(e)},enableSendApprovement(e){let t=e.descricaoStatus.toUpperCase();return"EM CONSTRUCAO"===t},actionColor(e){console.log(e)},async findRegionalByIdUsuario(){console.log(this.filterPedido),this.listRegional=await this.$_Regional.findByIdUsuario(this.filterPedido.usuarioRtv.id)},async findCidadeByIdEstado(){this.listCidade=await this.$_Cidade.findByIdEstado(this.filterPedido.estado.id)},async search(){this.snackbarActiveInitiate(!0),this.listPedido=await this.$_Pedido.findByFilter(this.filterPedido),this.snackBarFinish()},snackbarActiveInitiate(e){this.snackbarText="Pesquisando...",e&&(this.isLoading=!0),this.progress=this.snackbar=!0},snackBarFinish(){this.snackbarText="Consulta finalizada!",this.snackbar=!0,this.isLoading=this.progress=!1},async sendToApprovement(e){this.snackbarText="Enviando...",this.isLoading=this.progress=this.snackbar=!0,e=await this.$_Pedido.sendToApprovement(e),this.snackbarText="Pedido enviado para aprovação!",this.snackbar=!0,this.isLoading=this.progress=!1},reset(){this.$refs.form.reset(),this.isLoading=!1,this.filterPedido={estado:{pais:{}},cidade:{estado:{}}}}}},n=l,d=a("2877"),c=a("6544"),u=a.n(c),v=a("c6a6"),m=a("8336"),p=a("b0af"),f=a("99d9"),h=a("a523"),g=a("8fea"),b=a("169a"),_=a("0e8f"),C=a("4bd4"),x=a("132d"),P=a("a722"),y=a("ba95"),A=a("40fe"),k=a("5d23"),V=a("490a"),j=a("2db4"),S=a("2677"),T=Object(d["a"])(n,i,r,!1,null,null,null);T.options.__file="PedidoConsulta.vue";var I=T.exports;u()(T,{VAutocomplete:v["a"],VBtn:m["a"],VCard:p["a"],VCardActions:f["a"],VCardText:f["b"],VContainer:h["a"],VDataTable:g["a"],VDialog:b["a"],VFlex:_["a"],VForm:C["a"],VIcon:x["a"],VLayout:P["a"],VListTile:y["a"],VListTileAction:A["a"],VListTileContent:k["a"],VListTileTitle:k["b"],VProgressCircular:V["a"],VSnackbar:j["a"],VTextField:S["a"]});var R={components:{PedidoConsulta:I},data:()=>({})},w=R,O=(a("58c9"),a("12b2")),D=Object(d["a"])(w,o,s,!1,null,"995442fa",null);D.options.__file="GridContainer.vue";t["default"]=D.exports;u()(D,{VCard:p["a"],VCardText:f["b"],VCardTitle:O["a"],VContainer:h["a"],VFlex:_["a"],VLayout:P["a"]})},"4fd1":function(e,t,a){"use strict";var o=a("a6cc"),s=a.n(o);s.a},"56d7":function(e,t,a){"use strict";a.r(t);var o=a("a026"),s=a("bb71");a("da64");o["a"].use(s["a"],{iconfont:"md"});var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",{attrs:{id:"inspire"}},[o("v-navigation-drawer",{staticStyle:{"background-color":"#F2F1EF"},attrs:{clipped:e.$vuetify.breakpoint.lgAndUp,fixed:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[o("v-list",{attrs:{dense:""}},[e._l(e.items,function(t){return[t.children?o("v-list-group",{key:t.text,attrs:{"prepend-icon":t.model?t.icon:t["icon-alt"],"append-icon":""},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}},[o("v-list-tile",{key:t.text,attrs:{slot:"activator",to:t.link},slot:"activator"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.text))])],1)],1),e._l(t.children,function(t,a){return o("v-list-tile",{key:a,attrs:{to:t.link}},[t.icon?o("v-list-tile-action",[o("v-icon",[e._v(e._s(t.icon))])],1):e._e(),o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.text))])],1)],1)})],2):o("v-list-tile",{key:t.text,attrs:{to:t.link}},[o("v-list-tile-action",[o("v-icon",[e._v(e._s(t.icon))])],1),o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.text))])],1)],1)]})],2)],1),o("v-toolbar",{attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,color:"#007486",dark:"",app:"",fixed:"",dense:""}},[o("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),o("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),o("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[o("v-btn",{staticClass:"button-icon pa-1",attrs:{color:"white",depressed:""}},[o("img",{attrs:{src:a("82f1"),alt:"ProduQuimica",width:"70%",height:"70%"}})])],1),o("v-spacer"),o("v-avatar",{attrs:{size:"40",color:"blue"}},[o("span",{staticClass:"white--text headline"},[e._v("J")])])],1),o("v-content",[o("v-container",{staticClass:"grey lighten-4",attrs:{fluid:"","fill-height":""}},[o("v-layout",[o("v-flex",[o("router-view")],1)],1)],1)],1)],1)},r=[],l={components:{},data(){return{daysPastCreation:0,drawer:null,items:[{icon:"keyboard_arrow_up","icon-alt":"keyboard_arrow_down",text:"Pedido",link:"",model:!0,children:[{icon:"search",text:"Consultar",link:"/consultarpedido/"},{icon:"blur_on",text:"Fluxo de aprovação",link:"/fluxoaprovacao/"}]}]}}},n=l,d=(a("034f"),a("2877")),c=a("6544"),u=a.n(c),v=a("7496"),m=a("8212"),p=a("8336"),f=a("a523"),h=a("549c"),g=a("ce7e"),b=a("0e8f"),_=a("132d"),C=a("a722"),x=a("8860"),P=a("56b0"),y=a("ba95"),A=a("40fe"),k=a("5d23"),V=a("f774"),j=a("9910"),S=a("71d9"),T=a("706c"),I=a("2a7f"),R=Object(d["a"])(n,i,r,!1,null,null,null);R.options.__file="App.vue";var w=R.exports;u()(R,{VApp:v["a"],VAvatar:m["a"],VBtn:p["a"],VContainer:f["a"],VContent:h["a"],VDivider:g["a"],VFlex:b["a"],VIcon:_["a"],VLayout:C["a"],VList:x["a"],VListGroup:P["a"],VListTile:y["a"],VListTileAction:A["a"],VListTileContent:k["a"],VListTileTitle:k["b"],VNavigationDrawer:V["a"],VSpacer:j["a"],VToolbar:S["a"],VToolbarSideIcon:T["a"],VToolbarTitle:I["a"]});var O=a("bc3a"),D=a.n(O),E=a("c1df"),$=a.n(E),F=a("8c4f"),N=a("c0d6");o["a"].use(F["a"]);const L=new F["a"]({mode:"history",base:"/",routes:[{name:"login",path:"/login",component:a("b461").default},{name:"consultarpedido",path:"/consultarpedido",component:a("4811").default,meta:{requiresAuth:!0,roles:["TUDO","ADM VENDAS"]}},{name:"aprovarpedido",path:"/aprovarpedido",component:a("7357").default,props:!0,meta:{requiresAuth:!0,roles:["TUDO","ADM VENDAS"]}},{name:"fluxoaprovacao",path:"/fluxoaprovacao",component:a("4421").default,meta:{requiresAuth:!0,roles:["TUDO","ADM VENDAS"]}}]});L.beforeEach((e,t,a)=>{try{if("login"===e.name)a();else{let t=e.matched.some(e=>e.meta.requiresAuth),o=t&&e.matched.some(e=>e.meta.roles.length),s=!1;if(s=!t||!!N["a"].getters.isLoggedIn,s)if(o)if(N["a"].getters.loggedUser){let t=N["a"].getters.loggedUser;for(let a of t.authorities)if(s=e.meta.roles.includes(a.authority),!0===s)break}else s=!1;else s=!0;else s=!1;s?a():window.location.href="http://localhost:8081/compassminerals/login.jsf"}}catch(o){console.log({err:o}),window.location.href="http://localhost:8081/compassminerals/login.jsf"}});var U=L;class B{emptyComboField(e){if(!e)return["Item deve ser selecionado!"]}}class z{constructor(){this.STS_APROVACAO_GERENTE_REGIONAL=2,this.STS_APROVACAO_GERENTE_COMERCIAL=3,this.STS_APROVACAO_DIRETOR_COMERCIAL=4,this.STS_APROVACAO_GERENTE_DISTRIBUICAO=5,this.STS_AR=6,this.STS_VERIFICACAO_ADM_VENDAS=8,this.STS_APROVACAO_SUPERA=14,this.STS_APROVACAO_BONIFICACAO_GP=15,this.STS_APROVACAO_PRAZO=16,this.STS_ADM_VENDAS_APROVADO_PRAZO_PGMT=17,this.STS_APROVACAO_SUPERA_GMT=19,this.STS_APROVACAO_BONIFICACAO_DIRETOR=20,this.listApprovalStatus=[this.STS_APROVACAO_GERENTE_REGIONAL,this.STS_APROVACAO_GERENTE_COMERCIAL,this.STS_APROVACAO_DIRETOR_COMERCIAL,this.STS_APROVACAO_GERENTE_DISTRIBUICAO,this.STS_AR,this.STS_VERIFICACAO_ADM_VENDAS,this.STS_APROVACAO_SUPERA,this.STS_APROVACAO_BONIFICACAO_GP,this.STS_APROVACAO_PRAZO,this.STS_ADM_VENDAS_APROVADO_PRAZO_PGMT,this.STS_APROVACAO_SUPERA_GMT,this.STS_APROVACAO_BONIFICACAO_DIRETOR]}validApprovalStatus(e){return!!e&&this.listApprovalStatus.includes(e)}}class G{constructor(e,t){this.url=`${t}`,this.axios=e}async authenticate(){try{let t=await this.axios.post(`${this.url}authenticate`);return console.log({response:t}),t}catch(e){return console.log({err:e}),e}}async getData(e){try{let a=await this.axios.get(`${this.url}${e}`);return console.log({response:a}),a.data}catch(t){console.log({path:e}),console.log({err:t})}}}class M{constructor(e,t){this.url=`${t}cidade`,this.axios=e}async findByIdEstado(e){try{let a={estado:{id:e}},o=await this.axios.post(`${this.url}/filtro`,a);return console.log({response:o}),o.data}catch(t){console.log({id:e}),console.log({err:t})}}}class q{constructor(e,t){this.url=`${t}usuario`,this.axios=e}async findByStsAtivo(e){try{let a=await this.axios.get(`${this.url}/findbystsativo`,{params:{stsAtivo:e}});return console.log({response:a}),a.data}catch(t){console.log({ativo:e}),console.log({err:t})}}}class Y{constructor(e,t){this.axios=e,this.url=`${t}pedido`}async findByFilter(e){try{let a=await this.axios.post(`${this.url}/findbyfilter`,e);return console.log({response:a}),a.data}catch(t){console.log({filterPedido:e}),console.log({err:t})}}async sendToApprovement(e){try{let a=await this.axios.post(`${this.url}/computeapprovementlist`,e);return console.log({response:a}),a.data}catch(t){console.log({filterPedido:e}),console.log({err:t})}}}class H{constructor(e,t){this.axios=e,this.url=`${t}pedidoitem`}async findByIdPedido(e){try{let a=await this.axios.get(`${this.url}/findbyidpedido`,{params:{idPedido:e}});return console.log({response:a}),a.data}catch(t){console.log({id:e}),console.log({err:t})}}}class J{constructor(e,t){this.axios=e,this.url=`${t}tipotabela`}async findByIdPedido(e){try{let a=await this.axios.get(`${this.url}/findbyidpedido`,{params:{idPedido:e}});return console.log({response:a}),a.data}catch(t){console.log({id:e}),console.log({err:t})}}}class W{constructor(e,t){this.axios=e,this.url=`${t}regra`}async findByIdPedido(e){try{let a=await this.axios.get(`${this.url}/findbyidpedido`,{params:{idPedido:e}});return console.log({response:a}),a.data}catch(t){console.log({id:e}),console.log({err:t})}}}class Q{constructor(e,t){this.axios=e,this.url=`${t}regional`}async findByUsuarioLogado(){try{let t=await this.axios.get(`${this.url}/findbyusuariologado`);return console.log({response:t}),t.data}catch(e){console.log({err:e})}}async findByIdUsuario(e){try{let a=await this.axios.get(`${this.url}/findbyidusuario`,{params:{idUsuario:e}});return console.log({response:a}),a.data}catch(t){console.log({id:e}),console.log({err:t})}}}class Z{constructor(e,t){this.axios=e,this.url=`${t}statuspedido`}}$.a.updateLocale("en",{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]}),o["a"].config.productionTip=!1;let K="http://localhost:8888/api/";o["a"].prototype.$_url=K,o["a"].prototype.$_axios=D.a,o["a"].prototype.$_moment=$.a,o["a"].prototype.$v_basic=new B,o["a"].prototype.$v_StatusPedido=new z,o["a"].prototype.$_BaseAPI=new G(D.a,K),o["a"].prototype.$_Cidade=new M(D.a,K),o["a"].prototype.$_Usuario=new q(D.a,K),o["a"].prototype.$_Pedido=new Y(D.a,K),o["a"].prototype.$_PedidoItem=new H(D.a,K),o["a"].prototype.$_TipoTabela=new J(D.a,K),o["a"].prototype.$_Regra=new W(D.a,K),o["a"].prototype.$_Regional=new Q(D.a,K),o["a"].prototype.$_StatusPedido=new Z(D.a,K),o["a"].filter("userFormatDate",function(e){return e&&$()(e).isValid?$()(e).format("DD/MM/YYYY"):"date parse error"}),o["a"].filter("javaFormatDate",function(e){return e&&$()(e).isValid?$()(e).format("YYYYMMDD"):"date parse error"}),o["a"].filter("vueFormatDate",function(e){return e&&$()(e).isValid?$()(e).format("YYYY-MM-DD"):"date parse error"}),o["a"].filter("calculateDays",function(e){return e&&$()(e).isValid?$()().diff($()(e),"days"):"date parse error"}),new o["a"]({store:N["a"],router:U,render:e=>e(w)}).$mount("#app")},"58c9":function(e,t,a){"use strict";var o=a("4539"),s=a.n(o);s.a},"5c2b":function(e,t,a){"use strict";var o=a("3af3"),s=a.n(o);s.a},"5fbda":function(e,t,a){"use strict";var o=a("ef03"),s=a.n(o);s.a},7357:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-card",{staticClass:"card",attrs:{flat:""}},[a("v-card-title",{staticClass:"title card"},[e._v("Detalhes do Pedido")]),a("v-card-text",[a("Pedido",{attrs:{pedido:e.pedido,tabIndex:e.tabIndex}})],1)],1)],1)],1)],1)},s=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{"justify-space-between":"",column:"","fill-height":""}},[a("v-flex",[a("v-toolbar",{staticClass:"elevation-10",attrs:{tabs:""}},[a("v-text-field",{staticClass:"mx-3",attrs:{flat:"","solo-inverted":"",label:"Consultar PN","prepend-inner-icon":"search"}}),a("v-tabs",{attrs:{slot:"extension",centered:"",color:"transparent"},slot:"extension",model:{value:e.mutableTabIndex,callback:function(t){e.mutableTabIndex=t},expression:"mutableTabIndex"}},e._l(e.tabItens,function(t){return a("v-tab",{key:t.id,on:{click:function(a){e.handleSelectedTab(t)}}},[e._v("\n\t\t\t\t\t\t\t"+e._s(t.name)+"\n\t\t\t\t\t\t")])}))],1),a("v-tabs-items",{staticClass:"elevation-10",model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[a("v-tab-item",[a("PedidoTabs",{attrs:{pedido:e.pedido,tabIndex:e.mutableTabIndex}})],1)],1)],1),a("v-flex",[a("Aprovacoes",{attrs:{idPedido:e.pedido.idPedido}})],1)],1)],1)},r=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("PedidoDetalhes",{attrs:{pedido:e.pedido,tabIndex:e.tabIndex}}),a("PedidoItensDetalhes",{attrs:{listItemPedido:e.pedido.listPedidoItem,tabIndex:e.tabIndex}})],1)},n=[],d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return 0===e.tabIndex&&e.pedido?a("v-card",{staticClass:"black--text",attrs:{color:"white"}},[a("v-card-text",[a("v-layout",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{"md-6":""}},[a("p",{staticClass:"ma-2"},[e._v("Número do pedido: "+e._s(e.pedido.codSap))]),a("p",{staticClass:"ma-2"},[e._v("Status: "+e._s(e.pedido.statusPedido.descricaoStatus))]),a("p",{staticClass:"ma-2"},[e._v("Regional: "+e._s(e.pedido.regional.nomRegional))]),a("p",{staticClass:"ma-2"},[e._v("RTV: "+e._s(e.pedido.usuarioRtv.login))]),a("p",{staticClass:"ma-2"},[e._v("Cliente: "+e._s(e.pedido.cliente.nomCliente))]),a("p",{staticClass:"ma-2"},[e._v("Classificação cliente: "+e._s(e.pedido.classificacaoCliente.desClassificacaoCliente))]),a("p",{staticClass:"ma-2"},[e._v("Cidade cliente: "+e._s(e.pedido.cliente.endereco.cidade.nomCidade))]),a("p",{staticClass:"ma-2"},[e._v("Data de Criação: "+e._s(e._f("userFormatDate")(e.pedido.dtCriacaoPedido)))]),a("p",{staticClass:"ma-2"},[e._v("Tipo de Venda: "+e._s(e.pedido.tipoVenda.desTipoVenda))]),a("p",{staticClass:"ma-2"},[e._v("Pedido foi gerado há "+e._s(e._f("calculateDays")(e.pedido.dtCriacaoPedido))+" dias")])])],1),a("v-layout",{attrs:{column:""}},e._l(e.orderColors,function(t){return a("v-flex",{key:t.id,staticClass:"text-xs-right"},[a("v-btn",{staticClass:"white--text",attrs:{icon:"",color:t.orderColor}},[e._v("\n            "+e._s(t.colorPercentage)+"%\n          ")])],1)}))],1)],1)],1):e._e()},c=[],u={props:{tabIndex:{type:Number,default:0},pedido:{type:Object,default:()=>{}}},async created(){this.pedido.listPedidoItem=[{produtoPrecoRegras:{tabelaPreco:{tipoTabela:{}}}}],this.tipoTabela=await this.$_TipoTabela.findByIdPedido(this.pedido.idPedido)},data:()=>({tipoTabela:{},orderColors:[{id:1,orderColor:"light-blue darken-4",colorPercentage:7},{id:2,orderColor:"green",colorPercentage:32},{id:3,orderColor:"amber accent-3",colorPercentage:11},{id:4,orderColor:"red",colorPercentage:38},{id:5,orderColor:"black",colorPercentage:12}]})},v=u,m=(a("5fbda"),a("2877")),p=a("6544"),f=a.n(p),h=a("8336"),g=a("b0af"),b=a("99d9"),_=a("0e8f"),C=a("a722"),x=Object(m["a"])(v,d,c,!1,null,"30b3798d",null);x.options.__file="PedidoDetalhes.vue";var P=x.exports;f()(x,{VBtn:h["a"],VCard:g["a"],VCardText:b["b"],VFlex:_["a"],VLayout:C["a"]});var y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.tabIndex&&e.listItemPedido?a("v-card",{attrs:{light:""}},[a("v-card-text",[a("v-data-table",{attrs:{headers:e.headers,items:e.listItemPedido,"rows-per-page-text":"Itens por página"},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"pa-3"},[a("v-btn",{staticClass:"white--text",attrs:{icon:"",color:e.itemColor(t.item.corPedido.id)}})],1),a("td",[e._v(e._s(t.item.motivoErroSap))]),a("td",[e._v(e._s(t.item.produtoPrecoRegras.tabelaPreco.dtIni))]),a("td",[e._v(e._s(t.item.pedido.regional.centroLucro.descricao))]),a("td",[e._v(e._s(t.item.pedido.usuarioRtv.funcionario.nomFuncionario))]),a("td",[e._v(e._s(t.item.pedido.estadoOrigem.sigla))]),a("td",[e._v(e._s(t.item.produtoPrecoRegras.produto.id))]),a("td",[e._v(e._s(t.item.produtoPrecoRegras.produto.desProduto))]),a("td",[e._v(e._s(t.item.quantidade))]),a("td",[e._v(e._s(t.item.unidade.siglaUnidade))]),a("td",[e._v(e._s(t.item.pedido.tipoVenda.desTipoVenda))]),a("td",[e._v(e._s(t.item.organizacaoVendas.desOrganizacaoVendas))]),a("td",[e._v(e._s(t.item.fabrica.desFabrica))]),a("td",[e._v(e._s(t.item.dataFaturamento))]),a("td",[e._v(e._s(t.item.pedido.setorAtividade.desSetorAtividade))]),a("td",[e._v(e._s(t.item.pedido.cliente.canalDistribuicao.desCanalDistribuicao))]),a("td",[e._v(e._s(t.item.condicaoPagamento.condPagamento))]),a("td",[e._v(e._s(t.item.dataPagamento))]),a("td",[e._v(e._s(t.item.pedido.codSap))]),a("td",[e._v(e._s(t.item.pedido.cliente.codSap))]),a("td",[e._v(e._s(t.item.pedido.cliente.nomCliente))]),a("td",[e._v(e._s(t.item.pedido.cliente.numIe))]),a("td",[e._v(e._s(t.item.pedido.cliente.endereco.cidade.estado.sigla))]),a("td",[e._v(e._s(t.item.agenteFixoPorcent))]),a("td",[e._v(e._s(t.item.agenteFixoValorPorKilo))]),a("td",[e._v(e._s(t.item.agenteRateioPorcentSap))]),a("td",[e._v("\n\t\t\t\t\t\tmostrar todas as linhas de produto em combo box de visualização\n\t\t\t\t\t\tprops.item.listCampanha.nomCampanha\n\t\t\t\t\t")]),a("td",[e._v(e._s(t.item.cultura.desCultura))]),a("td",[e._v(e._s(t.item.dataFaturamento))])]}}])})],1)],1):e._e()},A=[],k={methods:{itemColor(e){return 1===e?"blue":2===e?"yellow":3===e?"green":4===e?"red":5===e?"black":void 0}},props:{listItemPedido:{type:Array,default:()=>[]},tabIndex:{type:Number,default:1}},data(){return{headers:[{text:"Cor",value:"id",align:"left"},{text:"Motivo Erro",value:"motivoErroSap",align:"left"},{text:"Data Vigência Tabela",value:"dtIni",align:"left"},{text:"Centro Lucro",value:"descricao",align:"left"},{text:"RTV",value:"nomFuncionario",align:"left"},{text:"UF Origem",value:"sigla",align:"left"},{text:"Código SAP",value:"idProduto",align:"left"},{text:"Descrição",value:"desProduto",align:"left"},{text:"Quantidade",value:"quantidade",align:"left"},{text:"Unidade",value:"siglaUnidade",align:"left"},{text:"Tipo Venda",value:"desTipoVenda",align:"left"},{text:"Organização Venda",value:"desOrganizacaoVendas",align:"left"},{text:"Fabrica",value:"desFabrica",align:"left"},{text:"Data Prevista",value:"dataFaturamento",align:"left"},{text:"Setor",value:"desSetorAtividade",align:"left"},{text:"Canal",value:"desCanalDistribuicao",align:"left"},{text:"Condição Pagamento",value:"condPagamento",align:"left"},{text:"Data Fixa",value:"dataPagamento",align:"left"},{text:"Número Pedido",value:"codSap",align:"left"},{text:"Código SAP Cliente",value:"codSap",align:"left"},{text:"Nome Cliente",value:"nomCliente",align:"left"},{text:"IE",value:"numIe",align:"left"},{text:"UF Cliente",value:"sigla",align:"left"},{text:"% Comissão Agente",value:"agenteFixoPorcent",align:"left"},{text:"R$ KG Comissão Agente",value:"agenteFixoValorPorKilo",align:"left"},{text:"% Comissã Agente Rateio",value:"agenteRateioPorcentSap",align:"left"},{text:"Campanhas",value:"nomCampanha",align:"left"},{text:"Cultura",value:"desCultura",align:"left"},{text:"Data Prevista Faturamento",value:"dataFaturamento",align:"left"}]}}},V=k,j=(a("5c2b"),a("8fea")),S=Object(m["a"])(V,y,A,!1,null,"55b7c096",null);S.options.__file="PedidoItensDetalhes.vue";var T=S.exports;f()(S,{VBtn:h["a"],VCard:g["a"],VCardText:b["b"],VDataTable:j["a"]});var I={components:{PedidoDetalhes:P,PedidoItensDetalhes:T},props:{tabIndex:{type:Number,default:0},pedido:{type:Object,default:()=>{}}},data:()=>({})},R=I,w=(a("4fd1"),Object(m["a"])(R,l,n,!1,null,"78cf7bfb",null));w.options.__file="PedidoTabs.vue";var O=w.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"elevation-10",attrs:{light:""}},[a("v-card-title",{staticClass:"pa-0 pl-3 pt-2",attrs:{"primary-title":""}},[a("h3",{staticClass:"headline"},[e._v("Aprovações")])]),a("v-card-text",{staticClass:"pa-0 pl-3"},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},e._l(e.listRegra,function(t){return a("v-flex",{key:t.id},[a("v-checkbox",{staticClass:"pa-0 pl-3",attrs:{color:e.checkBoxColor,label:t.description,value:t.approved}})],1)}))],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"white--text",attrs:{color:"green darken-3",small:""}},[e._v("Aprovado")]),a("v-btn",{staticClass:"white--text",attrs:{color:"yellow darken-4",small:""}},[e._v("Não Aprovado")]),a("v-btn",{staticClass:"white--text",attrs:{color:"red darken-3",small:""}},[e._v("Cancelado")]),a("v-btn",{staticClass:"white--text",attrs:{color:"light-blue darken-3",small:""}},[e._v("Desfazer Alterações")])],1)],1)},E=[],$={props:{idPedido:{type:String,default:""}},async created(){this.listRegra=await this.$_Regra.findByIdPedido(this.idPedido)},data(){return{checkBoxColor:"indigo",listRegra:[]}}},F=$,N=a("12b2"),L=a("ac7c"),U=a("a523"),B=Object(m["a"])(F,D,E,!1,null,null,null);B.options.__file="Aprovacoes.vue";var z=B.exports;f()(B,{VBtn:h["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:N["a"],VCheckbox:L["a"],VContainer:U["a"],VFlex:_["a"],VLayout:C["a"]});var G={components:{PedidoTabs:O,Aprovacoes:z},props:{tabIndex:{type:Number,default:1},pedido:{type:Object,default:()=>{}}},methods:{handleSelectedTab(e){this.mutableTabIndex=e.id}},data(){return{mutableTabIndex:this.tabIndex,tabs:null,selectedOrder:null,tabItens:[{id:0,name:"Pedido"},{id:1,name:"Itens"},{id:2,name:"Outros"}]}}},M=G,q=a("71a3"),Y=a("c671"),H=a("fe57"),J=a("aac8"),W=a("2677"),Q=a("71d9"),Z=Object(m["a"])(M,i,r,!1,null,null,null);Z.options.__file="Pedido.vue";var K=Z.exports;f()(Z,{VFlex:_["a"],VLayout:C["a"],VTab:q["a"],VTabItem:Y["a"],VTabs:H["a"],VTabsItems:J["a"],VTextField:W["a"],VToolbar:Q["a"]});var X={components:{Pedido:K},async created(){this.tabIndex=this.$route.params.tabIndex,this.pedido=this.$route.params.pedido,this.pedido.listPedidoItem=await this.$_PedidoItem.findByIdPedido(this.pedido.id),console.log(this.pedido.listPedidoItem)},data:()=>({tabIndex:1,pedido:{}})},ee=X,te=(a("12e8"),Object(m["a"])(ee,o,s,!1,null,"399e8b76",null));te.options.__file="GridContainer.vue";t["default"]=te.exports;f()(te,{VCard:g["a"],VCardText:b["b"],VCardTitle:N["a"],VContainer:U["a"],VFlex:_["a"],VLayout:C["a"]})},"7b17":function(e,t,a){},"82f1":function(e,t,a){e.exports=a.p+"static/img/compass-minerals.097374fd.jpg"},"9fc7":function(e,t,a){},a6cc:function(e,t,a){},b461:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{"max-width":"350"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[e._v("\n        "+e._s(e.message)+"\n      ")]),a("v-progress-linear",{attrs:{indeterminate:!0}})],1)],1)],1)},s=[],i=a("c0d6"),r={data(){return{message:"",dialog:!1}},async created(){this.dialog=!0,await this.login()},methods:{async login(){this.message="Validando o usuário.";let e=await this.authenticate();if(200===e.status&&e.data){let t=e.data;if(t.token=this.$route.query.token,i["a"].dispatch("setToken",t),this.message="Usuário encontrado, consultando o pedido selecionado.",e=await this.fetchOrder(),e){let t=e[0];this.$router.push({name:"aprovarpedido",params:{pedido:t,tabIndex:1}})}}else this.dialog=!1,i["a"].dispatch("logout"),window.location.href="http://localhost:8081/compassminerals/login.jsf"},async authenticate(){return this.$_axios.defaults.headers.common["Authorization"]=`Bearer  ${this.$route.query.token}`,await this.$_BaseAPI.authenticate()},async fetchOrder(){return await this.$_Pedido.findByFilter({id:this.$route.query.id})}}},l=r,n=a("2877"),d=a("6544"),c=a.n(d),u=a("b0af"),v=a("12b2"),m=a("169a"),p=a("a722"),f=a("8e36"),h=Object(n["a"])(l,o,s,!1,null,null,null);h.options.__file="Login.vue";t["default"]=h.exports;c()(h,{VCard:u["a"],VCardTitle:v["a"],VDialog:m["a"],VLayout:p["a"],VProgressLinear:f["a"]})},b972:function(e,t,a){"use strict";var o=a("9fc7"),s=a.n(o);s.a},c0d6:function(e,t,a){"use strict";var o=a("a026"),s=a("2f62"),i=a("bc3a"),r=a.n(i);o["a"].use(s["a"]),t["a"]=new s["a"].Store({state:{status:"",token:localStorage.getItem("user-token")||"",user:localStorage.getItem("user")||"{}"},mutations:{AUTH_REQUEST(e){e.status="loading"},AUTH_SUCCESS(e,{token:t,user:a}){e.status="success",e.token=t,e.user=a},AUTH_ERROR(e){e.status="error"},LOGOUT(e){e.status="",e.token=""}},actions:{login({commit:e},t){return new Promise((a,o)=>{e("AUTH_REQUEST"),r()({url:"http://localhost:8888/api/login",data:t,method:"POST"}).then(t=>{const o=t.headers.authorization,s=t.data,i=s.authorities.map(e=>e.authority);localStorage.setItem("user-token",o);let l={user:s.username,roles:i,token:o};localStorage.setItem("user",JSON.stringify(l)),r.a.defaults.headers.common["Authorization"]=o,e("AUTH_SUCCESS",{token:o,user:s}),a(t)}).catch(t=>{console.log({err:t}),e("AUTH_ERROR"),localStorage.removeItem("user-token"),localStorage.removeItem("user"),o(t)})})},logout({commit:e}){return new Promise(t=>{e("LOGOUT"),localStorage.removeItem("user-token"),localStorage.removeItem("user"),localStorage.removeItem("Authorization"),delete r.a.defaults.headers.common["Authorization"],t()})},setToken({commit:e},t){return new Promise(a=>{const o="Bearer  ".concat(t.token),s=t,i=s.authorities.map(e=>e.authority);localStorage.setItem("user-token",o);let l={user:s.username,roles:i,token:o};localStorage.setItem("user",JSON.stringify(l)),r.a.defaults.headers.common["Authorization"]=o,e("AUTH_SUCCESS",{token:o,user:s}),a()})}},getters:{countLinks:e=>e.links.length,isLoggedIn:e=>!!e.token,authStatus:e=>e.status,loggedUser:e=>e.user?e.user:null}})},e979:function(e,t,a){"use strict";var o=a("7b17"),s=a.n(o);s.a},ef03:function(e,t,a){}});
//# sourceMappingURL=app.e8eef74e.js.map